(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1025:function(t,e,r){},1058:function(t,e,r){"use strict";r(1025)},1059:function(t,e,r){"use strict";var n=r(977),o=r.n(n);r.d(e,"default",(function(){return o.a}))},1076:function(t,e,r){"use strict";var n=r(984),o=r.n(n);r.d(e,"default",(function(){return o.a}))},1095:function(t,e,r){"use strict";r(38),r(568);var n=r(938),o=r(948),c=(r(147),{props:{languages:{type:Array,required:!0}},methods:{repositoryAttrs:function(t){switch(t.name){case"PHP":return{class:"bg-blue-500"};case"Shell":return{class:"bg-green-500"};case"JavaScript":return{class:"text-yellow-500"};case"Ruby":return{class:"bg-red-700"};case"Python":return{class:"text-blue-800"};case"Blade":case"HTML":return{class:"bg-red-600"};case"CSS":return{class:"bg-purple-900"};case"Sass":return{class:"text-pink-600"};case"SCSS":return{class:"bg-pink-600"};case"Kotlin":return{class:"bg-purple-500"};case"Java":return{class:"bg-yellow-900"};case"Vue":return{class:"text-green-400"};case"Angular":return{class:"text-red-600 bg-white"};default:return{class:"bg-gray-600"}}},checkNameLanguages:function(t){return["angular","css3","docker","html5","javascript","python","nodejs","react","sass","vue"].includes(t.name.toLowerCase())}}}),l=r(6),d={components:{LanguageItem:Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex items-center justify-start text-sm"},t._l(t.languages,(function(e){return r("div",{key:e.id,staticClass:"flex items-center"},[t.checkNameLanguages(e)?r("Ionicon",t._b({staticClass:"text-xl font-bold mr-2 rounded-full",attrs:{name:"logo-"+e.name.toLowerCase(),size:"lg"}},"Ionicon",Object.assign({},t.repositoryAttrs(e)),!1)):r("span",t._b({staticClass:"text-xs font-medium mr-2 rounded-full text-white p-1"},"span",Object.assign({},t.repositoryAttrs(e)),!1),[t._v(t._s(e.name))])],1)})),0)}),[],!1,null,null,null).exports},props:{repository:{type:Object,required:!0}}},f=Object(l.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex items-center justify-start text-sm"},[r("LanguageItem",{attrs:{languages:t.repository.languages.slice(0,3)}}),t._v(" "),t.repository.languages.length>3?r("ElPopover",{attrs:{trigger:"hover",placement:"right"}},[r("LanguageItem",{attrs:{languages:t.repository.languages.slice(3)}}),t._v(" "),r("span",{staticClass:"text-xs font-medium rounded-full px-1 py-0 text-white bg-gray-500 cursor-pointer",attrs:{slot:"reference"},slot:"reference"},[t._v("+"+t._s(t.repository.languages.length-3))])],1):t._e()],1)}),[],!1,null,null,null).exports,m={props:{testResult:{type:Object,default:null},repository:{type:Object,default:null},isAdmin:{type:Boolean,default:!1}},computed:{getCoverageDiff:function(){var t=this.testResult;return(t.coverage-t.last_coverage).toFixed(2)},link:function(){var t=this.repository,e=t.scm,r=t.namespace,n=t.name;return"/".concat(e,"/").concat(r,"/").concat(n,"/coverage?jobName=").concat(this.testResult.job.name)},nameComponent:function(){return"admin"!==this.$nuxt.$data.layoutName?{component:"nuxt-link",props:{to:this.link,class:"text-lg"}}:{component:"span",props:{class:"text-base"}}}}},v={components:{Item:Object(l.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-gray-600 w-max"},[r("h3",{staticClass:"flex items-center"},[r(t.nameComponent.component,t._b({tag:"component",staticClass:"text-gray-600 font-light hover:text-blue-700 truncate w-16 md:w-28"},"component",t.nameComponent.props,!1),[t._v("\n            "+t._s(t.testResult.job.name)+"\n        ")])],1),t._v(" "),r("div",[r("div",{staticClass:"flex items-center font-light text-sm"},[r("i",{staticClass:"mr-1 el-icon-umbrella text-lg"}),t._v(" "),r("span",{staticClass:"mr-1"},[t._v(t._s(t.testResult.coverage)+"%")]),t._v(" "),r("div",{class:"text-"+(t.getCoverageDiff<0?"red":"green")+"-600"},[r("span",{staticClass:"font-light"},[t._v("("+t._s(t.getCoverageDiff>0?"+":"")+t._s(t.getCoverageDiff)+"%)")])])]),t._v(" "),r("div",{staticClass:"flex items-center text-sm font-light"},[r("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"flex items-center",attrs:{title:"Test case"}},[r("Ionicon",{staticClass:"mr-1 text-yellow-700",attrs:{name:"flask",size:"sm"}}),t._v(" "),r("span",[t._v(t._s(t.testResult.tests))])],1),t._v(" "),r("span",{staticClass:"mx-1"},[t._v("-")]),t._v(" "),r("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"flex items-center",attrs:{title:"Assertions"}},[r("i",{staticClass:"mr-1 el-icon-document-checked text-blue-500"}),t._v(" "),r("span",[t._v(t._s(t.testResult.assertions))])])])])])}),[],!1,null,null,null).exports},props:{list:{type:Array,default:null},repository:{type:Object,required:!0}}},h=(r(1058),Object(l.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex items-center w-32 mr-4 float-left"},[t.list&&t.list.length>0?r("div",{staticClass:"w-full"},[1===t.list.length?r("div",[r("Item",{attrs:{"test-result":t.list[0],repository:t.repository}})],1):r("ElCollapse",{staticClass:"collapse w-full"},[r("ElCollapseItem",[r("div",{staticClass:"text-gray-600",attrs:{slot:"title"},slot:"title"},t._l(t.list.slice(0,1),(function(e){return r("Item",{key:e.id,attrs:{"test-result":t.list[0],repository:t.repository}})})),1),t._v(" "),t._l(t.list.slice(1),(function(e){return r("div",{key:e.id,staticClass:"text-gray-600 py-2 item"},[r("Item",{attrs:{"test-result":e,repository:t.repository}})],1)}))],2)],1)],1):r("div",[r("h3",{staticClass:"text-lg text-gray-600 mb-2"},[t._v("\n            Coverage\n        ")]),t._v(" "),r("p",{staticClass:"text-gray-500"},[t._v("\n            N/A\n        ")])])])}),[],!1,null,null,null).exports),y={components:{StatusIcon:o.a,ListLanguage:f,ListTestResult:h},props:{repository:{type:Object,required:!0}},computed:{link:function(){var t=this.repository,e=t.scm,r=t.namespace,n=t.name;return"/".concat(e,"/").concat(r,"/").concat(n)},lastBuild:function(){return this.repository.last_build},lastBuildLink:function(){return this.lastBuild?"".concat(this.link,"/builds/").concat(this.lastBuild.number):null},borderClass:function(){return this.lastBuild?Object(n.l)(this.lastBuild.status,"border"):"border-gray-600"},testResults:function(){return this.repository.last_build?this.repository.last_build.test_results:[]}}},_=r(1059);var x={components:{Item:Object(l.a)(y,(function(){var t,e=this,r=e.$createElement,n=e._self._c||r;return n("ElCard",{staticClass:"border-0 relative",class:e.$style.card,attrs:{"body-style":"padding: 0px"}},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"absolute top-0 right-0 text-white cursor-pointer",class:[e.$style.corner,(t={},t[e.$style["corner--favored"]]=e.repository.favorite,t)],attrs:{title:"Favorite",role:"button"},on:{click:function(t){return e.$emit("star")}}},[n("div",{staticClass:"transform rotate-45",class:e.$style.corner__bg}),e._v(" "),n("Ionicon",{staticClass:"absolute top-0 right-0",class:e.$style.star,attrs:{name:"star",variant:"filled",size:"sm"}})],1),e._v(" "),n("div",{staticClass:"flex items-center border-l-4 px-4 py-3",class:e.borderClass},[n("div",{staticClass:"flex-1 flex items-center"},[n("h2",{staticClass:"text-xl flex items-center"},[e.lastBuild?n("StatusIcon",{staticClass:"mr-2",attrs:{status:e.lastBuild.status,size:"lg"}}):e._e()],1),e._v(" "),n("div",[n("nuxt-link",{staticClass:"hover:text-blue-700 text-lg",attrs:{to:e.link}},[e._v("\n                    "+e._s(e.repository.name)+"\n                ")]),e._v(" "),n("ListLanguage",{attrs:{repository:e.repository}})],1)]),e._v(" "),n("div",{staticClass:"w-1/6 xxl:w-1/12 mr-8"},[n("h3",{staticClass:"text-lg text-gray-600 mb-2"},[e._v("\n                Default branch\n            ")]),e._v(" "),n("nuxt-link",{staticClass:"flex items-center",attrs:{to:e.link+"?branch="+e.repository.default_branch}},[n("Ionicon",{staticClass:"mr-2",attrs:{name:"git-branch"}}),e._v(" "),n("span",{staticClass:"text-blue-700 hover:underline"},[e._v("\n                    "+e._s(e.repository.default_branch)+"\n                ")])],1)],1),e._v(" "),n("div",{staticClass:"w-1/6 xxl:w-1/12"},[n("h3",{staticClass:"text-lg text-gray-600 mb-2"},[e._v("\n                Last build\n            ")]),e._v(" "),e.lastBuild?n("nuxt-link",{staticClass:"text-blue-700 hover:underline",attrs:{to:e.lastBuildLink}},[e._v("\n                #"+e._s(e.lastBuild.number)+"\n            ")]):n("span",{staticClass:"text-gray-500"},[e._v("\n                N/A\n            ")])],1),e._v(" "),n("ListTestResult",{attrs:{list:e.testResults,repository:e.repository}}),e._v(" "),n("div",{staticClass:"w-1/6 xxl:w-1/12"},[n("h3",{staticClass:"text-lg text-gray-600 mb-2"},[e._v("\n                Created\n            ")]),e._v(" "),e.lastBuild?n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"flex items-center",attrs:{title:e._f("formatDate")(e.lastBuild.created_at)}},[e._v("\n                "+e._s(e._f("humanizeTime")(e.lastBuild.created_at))+"\n            ")]):n("span",{staticClass:"text-gray-500"},[e._v("\n                N/A\n            ")])])],1)])}),[],!1,(function(t){this.$style=_.default.locals||_.default}),null,null).exports},props:{repositories:{type:Array,required:!0}}},C=Object(l.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"my-5"},t._l(t.repositories,(function(e){return r("li",{key:e.id,staticClass:"mb-5"},[r("Item",{attrs:{repository:e},on:{star:function(r){return t.$emit("star",e)}}})],1)})),0)}),[],!1,null,null,null);e.a=C.exports},1096:function(t,e,r){"use strict";r(177);var n=r(145),o=r.n(n),c=r(874),l=r.n(c),d=r(876),f=r.n(d),m={data:function(){return{search:this.$route.query.search}},methods:{filter:function(t){var e=this[t],r=e?f()(t,e):l()(t),n=o()(r,l()("page"))(this.$route.query);this.$router.push({query:n})}}},v=r(1076),h=r(6);var component=Object(h.a)(m,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("ElInput",{class:t.$style.search,attrs:{size:"medium",placeholder:"Search","suffix-icon":"el-icon-search",clearable:""},on:{clear:function(e){return t.filter("search")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filter("search")}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})}),[],!1,(function(t){this.$style=v.default.locals||v.default}),null,null);e.a=component.exports},1473:function(t,e,r){"use strict";r.r(e);var n=r(12),o=r(7),c=(r(30),r(177),r(31),r(20),r(22),r(34),r(35),r(14)),l=r(59),d=r(951),f=r(1095),m=r(1096),v=r(944),h=r(991);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x={components:{Pagination:v.a,RepositoryFilter:m.a,RepositoryList:f.a,Alert:h.a},inject:["setLinks"],validate:function(t){var e=t.params;return Object(d.a)(e.scm)&&e.namespace},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,d,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,n=t.query,o=r.scm,c=r.namespace,d=n.page,f=n.search,e.next=5,Object(l.c)({scm:o,namespace:c,search:f,page:d,is_enabled:!0,limit:15});case 5:return m=e.sent,e.abrupt("return",{repositories:m.data.data,pagination:m.data.meta});case 7:case"end":return e.stop()}}),e)})))()},head:function(){return{title:this.$route.params.namespace}},computed:_(_({},Object(c.d)(["auth"])),{},{scm:function(){var t=this.$route.params.scm;return t},links:function(){return[{text:"Repositories",to:this.$route.query.path}]},add:function(){var t=this.$route.params,e=t.scm,r=t.namespace;return"/account/".concat(e,"/repositories?scm=").concat(e,"&namespace=").concat(r)}}),watchQuery:!0,created:function(){this.setLinks(this.links)},mounted:function(){this.$gtag.pageview({page_title:"Repositories",page_path:this.$route.path,page_location:window.location.href})},methods:{toggleFavorite:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.favorite?l.b:l.a,r.prev=1,t.favorite=!t.favorite,r.next=5,n("repository",t.id);case 5:r.next=11;break;case 7:r.prev=7,r.t0=r.catch(1),t.favorite=!t.favorite,e.$message.error("Something went wrong, please try again later");case 11:case"end":return r.stop()}}),r,null,[[1,7]])})))()}}},C=r(6),component=Object(C.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-repositories-page py-6 px-10 min-h-full bg-white"},[r("div",{staticClass:"my-5 flex items-center justify-between"},[r("nuxt-link",{staticClass:"flex items-center p-2 border border-gray-300 rounded-md hover:bg-blue-100 text-gray-800",attrs:{to:t.add}},[r("Ionicon",{staticClass:"mr-2",attrs:{name:"duplicate"}}),t._v(" "),r("p",[t._v("Add repository")])],1),t._v(" "),r("div",{staticClass:"text-right w-1/2"},[r("RepositoryFilter")],1)],1),t._v(" "),0!=t.repositories.length?r("div",{staticClass:"repositories"},[r("RepositoryList",{attrs:{repositories:t.repositories},on:{star:t.toggleFavorite}}),t._v(" "),r("Pagination",{attrs:{data:t.pagination}})],1):r("div",[r("Alert",{attrs:{title:"You don't have any enabled repositories yet!"}},[r("nuxt-link",{attrs:{to:"/account/"+t.scm+"/repositories"}},[r("span",[t._v("Click here to enable CI for your repository")])])],1)],1)])}),[],!1,null,null,null);e.default=component.exports},938:function(t,e,r){"use strict";r.d(e,"i",(function(){return c})),r.d(e,"f",(function(){return l})),r.d(e,"d",(function(){return d})),r.d(e,"j",(function(){return f})),r.d(e,"g",(function(){return m})),r.d(e,"h",(function(){return v})),r.d(e,"c",(function(){return h})),r.d(e,"e",(function(){return y})),r.d(e,"k",(function(){return _})),r.d(e,"b",(function(){return x})),r.d(e,"a",(function(){return C})),r.d(e,"l",(function(){return w}));var n=r(880),o=r.n(n),c=function(t){return"running"===t},l=function(t){return"passed"===t},d=function(t){return"failed"===t},f=function(t){return"skipped"===t},m=function(t){return"pending"===t},v=function(t){return"queued"===t},h=function(t){return"created"===t},y=function(t){return o()(["passed","failed","canceled","skipped"],t)},_=function(t){return o()(["pending","queued","running"],t)},x=function(t){return y(t)&&!f(t)},C=function(t){return c(t)||m(t)||v(t)},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",r=arguments.length>2?arguments[2]:void 0;switch(t){case"passed":return"".concat(e,"-green-500");case"failed":return"".concat(e,"-red-500");case"running":return"".concat(e,"-blue-500");case"pending":return"".concat(e,"-gray-500");case"passed with warning":return"".concat(e,"-yellow-600");case"created":return"".concat(e,r?"-orange-600":"-gray-500");default:return"".concat(e,"-gray-600")}}},944:function(t,e,r){"use strict";var n=r(12),o=r(564),c=r.n(o),l=r(873),d=r.n(l),f={props:{data:{type:Object,required:!0},pageParam:{type:String,default:"page"},hashParam:{type:String,default:null}},methods:{go:function(t){this.$router.push(this.to(t))},to:function(t){var e,path=this.$route.path,r=null!==(e=this.hashParam)&&void 0!==e?e:this.$route.hash,o=c()(this.$route.query,[this.pageParam]);return{path:path,query:1!==t?d()({},o,Object(n.a)({},this.pageParam,t)):o,hash:r}}}},m=r(6),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("ElPagination",{staticClass:"text-center my-4",attrs:{"current-page":t.data.current_page,"page-count":t.data.last_page,layout:"prev, pager, next",background:"","hide-on-single-page":""},on:{"current-change":t.go}})}),[],!1,null,null,null);e.a=component.exports},948:function(t,e,r){"use strict";r(174);var n=r(340),o=r.n(n),c=r(938),l={props:{status:{type:String,required:!0},size:{type:[String,Number],default:"base"},variant:{type:String,default:"outline"},withText:{type:Boolean,default:!1},rounded:{type:Boolean,default:!0},canTrigger:{type:Boolean,default:!1}},computed:{icon:function(){switch(this.status){case"passed":return"checkmark-circle";case"failed":case"canceled":return"close-circle";case"running":return"logo-ionic";case"skipped":return"play-forward-circle";case"passed with warning":return"alert-circle";case"created":return this.canTrigger?"play":"remove-circle";default:return"remove-circle"}},color:function(){var t="queued"===this.status?"pending":this.status,e=this.withText?"bg":"text";return Object(c.l)(t,e,this.canTrigger)},spin:function(){return{"spin animate--very-slowly":"running"===this.status}},text:function(){var t="queued"===this.status?"pending":this.status;return o()(t)}}},d=r(6),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.withText?r("div",{staticClass:"inline-flex items-center py-1 pl-2 pr-3",class:[t.color,{"rounded-md":t.rounded}]},[r("Ionicon",{staticClass:"text-white mr-1",class:t.spin,attrs:{name:t.icon,size:t.size,variant:"filled"}}),t._v(" "),r("span",{staticClass:"text-white leading-3",class:"text-"+t.size},[t._v("\n        "+t._s(t.text)+"\n    ")])],1):r("Ionicon",{class:[t.color,t.spin],attrs:{name:t.icon,size:t.size,variant:t.variant}})}),[],!1,null,null,null);e.a=component.exports},951:function(t,e,r){"use strict";function n(t){return/(^(?!:\/\/)(?=.{1,255}$)((.{1,63}\.){1,127}(?![0-9]*$)[a-z0-9-]+\.?)$)|^github$|^gitlab$|^bitbucket$/i.test(t)}r.d(e,"a",(function(){return n}))},977:function(t,e,r){t.exports={card:"card_3Lofw",corner:"corner_2hbzO",corner__bg:"corner__bg_1sP9k","corner--favored":"corner--favored_2C6jI",star:"star_13kO6"}},984:function(t,e,r){t.exports={search:"search_2iAnt"}},991:function(t,e,r){"use strict";var n={props:{title:{type:String}}},o=r(6),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ElAlert",{staticClass:"my-4 flex items-center",attrs:{title:t.title,type:"info","show-icon":"",closable:!1,size:"sm"}},[t._t("default")],2)],1)}),[],!1,null,null,null);e.a=component.exports}}]);